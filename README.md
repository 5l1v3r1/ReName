## ReName
基于Python 3.6.4编写的使用中国古代古诗词起名字的程序，囊括13个朝代12,875名作者的共185,525首诗词，包括诗经和作者不详的作品。由于分词和诗词含义的主观性，因此输出会有部分不甚优雅的词汇。

## 设计思路
通过阳历生辰年/月/日/时转换得到的农历生辰计算对应的八字，再将八字转换为五行，依据五行平衡的原理算出五行缺失，而后将诗词内容分词得到的双字（新生
儿起名不再接受单字名）依据汉字的“金木水火土”五行取得缺失五行对应的双字词语，作为最终的名字，通过1518测名网（1518.com）评分，选取分数超过95分的5组结果输出，同时输出该名字的出处。
为确保名字出处的唯一性，分词结果去掉了数量超过1个的词语，如，以下是古诗词中出现频率较高的几组词语：
* 何处（847次）
* 不知（791次）
* 春风（715次）
* 万里（688次）
* 青山（640次）
* 东风（629次）
* 明月（605次）
* 风雨（587次）
* 不见（556次）
* 江南（549次）
* 秋风（545次）
* 人间（538次）
* 千里（535次）
* 不可（520次）
* 归来（499次）
* 白云（495次）
* 桃花（471次）
* 夕阳（463次）

## 程序说明
* ReName.py: 从古诗词分词结果中依据八字五行随机获取候选名字的程序。
* PoemCrawler.py: 古诗词爬虫，爬取包括朝代、作者、诗词标题及诗词内容在内的信息，爬取来源是shicimingju.com。
* CutWord.py: 利用jieba模块对古诗词内容进行快速分词处理，并仅获取双字分词结果存储。
* include/DB.py: 爬虫、分词程序进行存储的数据库操作程序。
* include/boxcalendar.py: 修改[https://github.com/ccdjh/boxcalendar](https://github.com/ccdjh/boxcalendar) 模块的程序，去掉了不必要的程序和输出，用于转换阳历生辰为农历。
* db/rename.sql: 数据库结构SQL，包括爬虫、分词、起名在内的所有表结构。
* db/rn_poem_content.sql: 关联之后的所有古诗词朝代、作者、标题及内容。
* db/rn_word_unique.sql: 去除出现次数1次以上的双字分词结果。
* db/rn_content.sql: 诗词内容。
* db/rn_decade.sql: 诗词作者所处朝代。
* db/rn_person.sql: 诗词作者名字。
* db/rn_poem.sql: 诗词标题。

## 操作说明
```
usage: ReName.py [-h] -s surname -y year -m month -d day -H hour

Name children with birth datetime and WuXing balance.

optional arguments:
  -h, --help  show this help message and exit
  -s surname  Surname.
  -y year     Year of birth date.
  -m month    Month of birth date.
  -d day      Day of birth date.
  -H hour     Hour of birth datetime.
```

## 程序示例
```
$ python ReName.py -s 赵 -y 2018 -m 2 -d 9 -H 16
[-_-] 生辰：2018年2月9日, 16时
[-_-] 五行缺：水, 火

[^_^] 候选名字：赵攀接
[*_*] 出自：
两浙寄子栗家书
魏观(明朝)
元年正月初，运使莅江浙。二月开衙门，上下总怡悦。明恩隆委任，疏钝愧忝窃。四月草寇生，民灶被残劫。场官殒八人，煎办顿阻节。分司两道出，招抚心力竭。十月大课成，幸且无亏折。省垣诸公相，筵燕每攀接。和气蔼如春，鱼水喜相得。家有黄马驹，日夕畏踶啮。平章换青鬃，裁银补吾缺。因得与子槃，求姻细抡择。戊子王氏女，偶与龟筮叶。遂于十月间，随宜为昏结。念汝一载余，音问成远隔。劳我昼夜思，梦寐常切切。恐汝疾病生，忧汝门户迫。道路常阻修，端便不可索。颇闻湖广传，今年丰稼穑。老怀虽少慰，汝信终未阅。寥寥乡里人，惘惘嗟久别。朝用心所亲，此际想疲苶。治家诚不易，要自有规划。往昔唐棣生，说令为汝厄。倍田增税亩，赋役苦重叠。病根坚莫除，此害最深刻。其类繁有徒，相妒每中热。汝但循天理，勿与致唇舌。年来我身安，第益须鬓白。行步甚轻快，颜面亦光泽。人皆爱我健，言有卫生诀。卫生能寡欲，应在寿者列。念念想吾蒲，为汝安第宅。上疏乞归田，此意已先决。致仕许老臣，纶音载条格。迩来复苏州，张寇就夷灭。仲冬伐方氏，一月报三捷。遣子赴京师，懔懔归有德。太平看有象，登用多俊杰。法度尚严明，分寸惧违越。新添十九场，盐课又增额。钱粮诚重事，利害

[^_^] 候选名字：赵紫菊
[*_*] 出自：
驿传杭台消息石末公有诗见寄次韵奉和并寓悲
刘基(明朝)
丧乱如川未有涯，悲风满地是虫沙。衰迟两臂从生柳，疾病双眸但陨花。暗蛩寒蝉秋色老，丹枫紫菊夕阳斜。颇闻四国思郇伯，尚想诗人赋木瓜。

[^_^] 候选名字：赵昨近
[*_*] 出自：
镊白
乾隆(清朝)
鬃发星星不胜镊，髭须点点尚堪镊，两歧之物应暗笑，何厚于须薄于发。好少恶老人情然，亦有不同为变迁，昨近庆典赐举业，颇有履历增其年。好恶恶好非颠倒，世间古道今应少，对隆王昌非所知，但知坊记不言老。

[^_^] 候选名字：赵客携
[*_*] 出自：
晚酌示藏用诸友（四首）
陈宪章(明朝)
四人把手过龙溪，一路梅花了不迷。沧海月明三岛近，白龙天迥众山低。客携卷子抄诗草，儿上松枝挂酒提。尽日醉眠岩石上，莓苔茵厚不沾泥。¤

[^_^] 候选名字：赵向洋
[*_*] 出自：
七律·登庐山
毛泽东(近当代)
一山飞峙大江边，跃上葱茏四百旋。冷眼向洋看世界，热风吹雨洒江天。云横九派浮黄鹤，浪下三吴起白烟。陶令不知何处去，桃花源里可耕田？
```

## 待改进处
该程序有以下二处可待完善和改进：
1. 五行平衡的计算改进为权重平衡的计算，而非五行数量平衡的计算；
2. 分词结果可去依据汉字的凶吉去掉含义为“凶”的词或字，如“亡”、“死”，减少候选集合；
